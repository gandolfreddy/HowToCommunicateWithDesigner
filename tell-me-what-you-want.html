<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0"
  />
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <link
    rel="stylesheet"
    href="https://unpkg.com/vue@3/dist/vue.global.css"
  >
  <title>使用者與平面設計師簡易溝通工具</title>
  <style>
    /* 重置與基本設定 */
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #edf2f7;
    }

    /* #app 區塊 */
    #app {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }

    h1 {
      margin-bottom: 20px;
      color: #2d3748;
    }

    /* 主要容器 */
    .container {
      display: flex;
      width: 90vw;
      height: 85vh;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    /* 左側預覽區 */
    #left-column {
      width: 50%;
      padding: 20px;
      background-color: #f7fafc;
      border-right: 1px solid #e2e8f0;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    /* 設定主標題與聯絡資訊固定高度 */
    #left-column .main-title,
    #left-column .contact {
      height: 60px;
    }

    #one-info-zone,
    #two-info-zone,
    #three-info-zone,
    #four-info-zone {
      display: flex;
      flex-direction: column;
      gap: 15px;
      height: 100%;
    }

    .main-title {
      font-size: 24px;
      background: #93c0eb;
      padding: 15px;
      border-radius: 8px;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .info-section-a,
    .info-section-b,
    .info-section-c,
    .info-section-d {
      font-size: 18px;
      background: #e2e8f0;
      padding: 15px;
      border-radius: 8px;
      text-align: center;
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .contact {
      font-size: 18px;
      background: #a8e4c1;
      padding: 15px;
      border-radius: 8px;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* 變體區塊 */
    .variant-1 {
      display: flex;
      flex-direction: column;
      gap: 15px;
      flex: 1;
    }

    .variant-2 {
      display: flex;
      gap: 15px;
      flex: 1;
    }

    /* 右側編輯區 */
    #right-column {
      width: 50%;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .data-input-container {
      background: #f7fafc;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      flex: 1;
      overflow-y: auto;
    }

    /* 各編輯區塊 */
    #layout-selector,
    #variant-selector,
    #main-title-info,
    #info-section-a-info,
    #info-section-b-info,
    #info-section-c-info,
    #info-section-d-info,
    #contact-info {
      margin-bottom: 15px;
    }

    h3 {
      color: #2d3748;
      margin-bottom: 8px;
    }

    input[type="text"],
    textarea,
    select {
      width: 100%;
      padding: 10px;
      border: 1px solid #cbd5e0;
      border-radius: 5px;
      font-size: 16px;
    }

    input[type="text"]:focus,
    textarea:focus,
    select:focus {
      outline: none;
      border-color: #3182ce;
    }

    textarea {
      resize: vertical;
    }

    button#export-button {
      background: #3182ce;
      color: #fff;
      border: none;
      padding: 12px 20px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }

    button#export-button:hover {
      background: #2b6cb0;
    }
  </style>
</head>

<body>
  <div id="app">
    <h1>Tell me what you want 😎</h1>
    <div class="container">
      <!-- 左側預覽區 -->
      <div id="left-column">
        <div
          id="one-info-zone"
          v-show="selectedLayout === 'one-zone'"
        >
          <div class="main-title">{{ mainTitle }}</div>
          <div class="info-section-a">{{ infoSectionA }}</div>
          <div class="contact">{{ contactInfo }}</div>
        </div>
        <div
          id="two-info-zone"
          v-show="selectedLayout === 'two-zone'"
        >
          <div class="main-title">{{ mainTitle }}</div>
          <div class="info-section-a">{{ infoSectionA }}</div>
          <div class="info-section-b">{{ infoSectionB }}</div>
          <div class="contact">{{ contactInfo }}</div>
        </div>
        <div
          id="three-info-zone"
          v-show="selectedLayout === 'three-zone'"
        >
          <div class="main-title">{{ mainTitle }}</div>
          <div class="info-section-a">{{ infoSectionA }}</div>
          <div :class="variantType">
            <div class="info-section-b">{{ infoSectionB }}</div>
            <div class="info-section-c">{{ infoSectionC }}</div>
          </div>
          <div class="contact">{{ contactInfo }}</div>
        </div>
        <div
          id="four-info-zone"
          v-show="selectedLayout === 'four-zone'"
        >
          <div class="main-title">{{ mainTitle }}</div>
          <div class="info-section-a">{{ infoSectionA }}</div>
          <div class="info-section-b">{{ infoSectionB }}</div>
          <div :class="variantType">
            <div class="info-section-c">{{ infoSectionC }}</div>
            <div class="info-section-d">{{ infoSectionD }}</div>
          </div>
          <div class="contact">{{ contactInfo }}</div>
        </div>
      </div>
      <!-- 右側編輯區 -->
      <div id="right-column">
        <div class="data-input-container">
          <div id="layout-selector">
            <h3>選擇版型</h3>
            <select
              v-model="selectedLayout"
              @change="changeLayout"
            >
              <option value="one-zone">1 個資訊區塊版型</option>
              <option value="two-zone">2 個資訊區塊版型</option>
              <option value="three-zone">3 個資訊區塊版型</option>
              <option value="four-zone">4 個資訊區塊版型</option>
            </select>
            <div
              id="variant-selector"
              v-if="selectedLayout !== 'one-zone' && selectedLayout !== 'two-zone'"
            >
              <h3>選擇子版型</h3>
              <select
                v-model="selectedVariant"
                @change="changeVariantLayout"
              >
                <option value="variant-1">子版型 1</option>
                <option value="variant-2">子版型 2</option>
              </select>
            </div>
          </div>
          <div id="main-title-info">
            <h3>填入標題</h3>
            <input
              id="main-title-input"
              type="text"
              v-model="mainTitle"
              placeholder="請輸入想要的標題文字"
            />
          </div>
          <div class="info-container">
            <div id="info-section-a-info">
              <h3>填入資訊區塊 A</h3>
              <textarea
                id="info-section-a-textarea"
                v-model="infoSectionA"
                placeholder="請輸入想要的資訊區塊 A 文字"
                rows="4"
              ></textarea>
            </div>
            <div
              id="info-section-b-info"
              v-if="selectedLayout !== 'one-zone'"
            >
              <h3>填入資訊區塊 B</h3>
              <textarea
                id="info-section-b-textarea"
                v-model="infoSectionB"
                placeholder="請輸入想要的資訊區塊 B 文字"
                rows="4"
              ></textarea>
            </div>
            <div
              id="info-section-c-info"
              v-if="selectedLayout === 'three-zone' || selectedLayout === 'four-zone'"
            >
              <h3>填入資訊區塊 C</h3>
              <textarea
                id="info-section-c-textarea"
                v-model="infoSectionC"
                placeholder="請輸入想要的資訊區塊 C 文字"
                rows="4"
              ></textarea>
            </div>
            <div
              id="info-section-d-info"
              v-if="selectedLayout === 'four-zone'"
            >
              <h3>填入資訊區塊 D</h3>
              <textarea
                id="info-section-d-textarea"
                v-model="infoSectionD"
                placeholder="請輸入想要的資訊區塊 D 文字"
                rows="4"
              ></textarea>
            </div>
          </div>
          <div id="contact-info">
            <h3>填入聯絡資訊</h3>
            <input
              type="text"
              id="contact-info-input"
              v-model="contactInfo"
              placeholder="請輸入想要的聯絡資訊文字"
            >
          </div>
        </div>
        <button
          id="export-button"
          @click="exportData"
        >匯出 HTML 檔案</button>
      </div>
    </div>
    <script>
      const { createApp } = Vue;
      createApp({
        data() {
          return {
            mainTitle: '主標題',
            infoSectionA: 'A 資訊區塊',
            infoSectionB: 'B 資訊區塊',
            infoSectionC: 'C 資訊區塊',
            infoSectionD: 'D 資訊區塊',
            contactInfo: '聯絡資訊',
            selectedLayout: 'one-zone',
            selectedVariant: 'variant-1',
            variantType: 'variant-1',
          };
        },
        mounted() {
          this.changeLayout();
        },
        methods: {
          setInfo(title, infoA, infoB, infoC, infoD, contact) {
            this.mainTitle = title;
            this.infoSectionA = infoA;
            this.infoSectionB = infoB;
            this.infoSectionC = infoC;
            this.infoSectionD = infoD;
            this.contactInfo = contact;
          },
          changeLayout() {
            switch (this.selectedLayout) {
              case 'one-zone':
                this.setInfo('主標題', 'A 資訊區塊', '', '', '', '聯絡資訊');
                break;
              case 'two-zone':
                this.setInfo('主標題', 'A 資訊區塊', 'B 資訊區塊', '', '', '聯絡資訊');
                break;
              case 'three-zone':
                this.setInfo('主標題', 'A 資訊區塊', 'B 資訊區塊', 'C 資訊區塊', '', '聯絡資訊');
                break;
              case 'four-zone':
                this.setInfo('主標題', 'A 資訊區塊', 'B 資訊區塊', 'C 資訊區塊', 'D 資訊區塊', '聯絡資訊');
                break;
              default:
                this.setInfo('主標題', 'A 資訊區塊', '', '', '', '聯絡資訊');
                break;
            }
          },
          changeVariantLayout() {
            this.variantType = this.selectedVariant;
          },
          exportData() {
            // 根據選擇版型決定要複製哪個預覽區塊
            let currentZoneId = "";
            if (this.selectedLayout === 'one-zone') {
              currentZoneId = "one-info-zone";
            } else if (this.selectedLayout === 'two-zone') {
              currentZoneId = "two-info-zone";
            } else if (this.selectedLayout === 'three-zone') {
              currentZoneId = "three-info-zone";
            } else if (this.selectedLayout === 'four-zone') {
              currentZoneId = "four-info-zone";
            }
            const zoneElement = document.getElementById(currentZoneId);
            const clonedElement = zoneElement.cloneNode(true);
            const styleContent = `
              /* #left-column 樣式 */
              #left-column {
                width: 50%;
                padding: 20px;
                background-color: #f7fafc;
                border-right: 1px solid #e2e8f0;
                display: flex;
                flex-direction: column;
                gap: 15px;
              }
              /* 固定主標題與聯絡資訊高度 */
              #left-column .main-title,
              #left-column .contact {
                height: 60px;
              }
              /* 主標題樣式 */
              .main-title {
                font-size: 24px;
                background: #93c0eb;
                padding: 15px;
                border-radius: 8px;
                text-align: center;
                display: flex;
                align-items: center;
                justify-content: center;
              }
              /* 資訊區塊樣式 */
              .info-section-a,
              .info-section-b,
              .info-section-c,
              .info-section-d {
                font-size: 18px;
                background: #e2e8f0;
                padding: 15px;
                border-radius: 8px;
                text-align: center;
                flex: 1;
                display: flex;
                align-items: center;
                justify-content: center;
              }
              /* 聯絡資訊樣式 */
              .contact {
                font-size: 18px;
                background: #a8e4c1;
                padding: 15px;
                border-radius: 8px;
                text-align: center;
                display: flex;
                align-items: center;
                justify-content: center;
              }
              /* 變體區塊 */
              .variant-1 {
                display: flex;
                flex-direction: column;
                gap: 15px;
                flex: 1;
              }
              .variant-2 {
                display: flex;
                gap: 15px;
                flex: 1;
              }
            `;

            // 建立完整的 HTML 檔案，並將 style 區塊嵌入
            const exportHTML = `
          <!DOCTYPE html>
          <html lang="zh-TW">
            <head>
              <meta charset="UTF-8">
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <title>匯出設計稿</title>
              <style>${styleContent}</style>
            </head>
            <body>
              ${clonedElement.outerHTML}
            </body>
          </html>`;

            // 建立 blob 並觸發下載
            const blob = new Blob([exportHTML], { type: "text/html" });
            const url = URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = "exported_design.html";
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
          }
        }
      }).mount('#app');
    </script>
  </div>
</body>

</html>